<!--extend this to provide a detail view for a module-->
{% extends CMS_TEMPLATE %}
{% load cms_tags sekizai_tags static thumbnail %}

{% block content %}
    {% addtoblock "template_css" %}{% endaddtoblock "template_css" %}

    <div id="section-detail">
        <h1>CORE READING SECTION DETAIL</h1>
        <h3>{% render_model object 'name' %}</h3>
        <div id="meta_box">

            <div><span style="font-weight: bold; font-style: italic">Slug: </span>{{ object.slug }}</div>
            <div><span style="font-weight: bold; font-style: italic">Reference id: </span>{{ object.ref_id }}</div><br>

            <div><span style="font-weight: bold; font-style: italic">Created by: </span>{{ object.created_by }}</div>
            <div><span style="font-weight: bold; font-style: italic">Date Created: </span>{{ object.creation_date }}</div><br>

            <div><span style="font-weight: bold; font-style: italic">Last Modified by: </span>{{ object.changed_by }}</div>
            <div><span style="font-weight: bold; font-style: italic">Date Modified: </span>{{ object.changed_date }}</div><br/>
            <!-- Output any related tags -->
            <h4>Tags</h4>
            <ul>
                <li><span style="font-weight: bold; font-style: italic">Module Tags: </span>{{ object.lesson.topic.module.tags.names | join:", " }}</li>
                <li><span style="font-weight: bold; font-style: italic">Topic Tags: </span>{{ object.lesson.topic.tags.names | join:", " }}</li>
                <li><span style="font-weight: bold; font-style: italic">Lesson Tags: </span>{{ object.lesson.tags.names | join:", " }}</li>
                <li><span style="font-weight: bold; font-style: italic">Tags: </span>{{ object.tags.names | join:", " }}</li>
            </ul>

            <h4>Parent Objects</h4>
            <ul>
                <li><span style="font-weight: bold; font-style: italic">Module: </span><a href="{{object.lesson.topic.module.absolute_url}}">{{ object.lesson.topic.module.name}}</a></li>
                <ul>
                    <li><span style="font-weight: bold; font-style: italic">Topic: </span><a href="{{object.lesson.topic.absolute_url}}">{{ object.lesson.topic.name}}</a></li>
                    <ul><li><span style="font-weight: bold; font-style: italic">Lesson: </span><a href="{{object.lesson.absolute_url}}">{{ object.lesson.name}}</a></li></ul>
                </ul>

            </ul>

        </div>
        <h3> Section Preview: </h3>
        <div id="preview_box">
            <div id='lesson-content'>
                <div class='lesson'>

                    <h2>{% render_model object 'name' %}</h2>
                    <hr class="headerSpacer">
                    <div>
                        {% if object.content %}
                            {% render_placeholder object.content %}

                        {% else %}
                            <p>there is no content please add some</p>
                        {% endif %}
                    </div>
                </div>
            </div>

        </div>
    </div>

{% endblock content %}

